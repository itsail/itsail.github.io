<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title> Как соединить несколько тем на одной странице с помощью CSS?</title><meta name="description" content="Уже давно я задумывался о возможности индивидуально формировать отдельные блоки, такие как футер или сайд-бар, не сталкиваясь с проблемами контекстного стиля..."><link rel="alternate" type="application/rss+xml" title="ITSail" href="/feed.xml"><link rel="canonical" href="https://blog.itsail.ru/blog/how-do-i-combine-multiple-topics-on-a-single-page-using-css/"><meta name="google-site-verification" content=""><meta name="yandex-verification" content="47167892cb6faab8" /><link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans+Narrow:700&subset=latin,cyrillic' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/styles/main.css"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" /><meta property="og:url" content="https://blog.itsail.ru/blog/how-do-i-combine-multiple-topics-on-a-single-page-using-css/"><meta property="og:type" content="website"><meta property="og:title" content="Как соединить несколько тем на одной странице с помощью CSS?"><meta property="og:description" content="Уже давно я задумывался о возможности индивидуально формировать отдельные блоки..."><meta property="og:site_name" content="ITSail"><meta name="twitter:card" content="summary"><meta name="twitter:url" content="https://blog.itsail.ru/blog/how-do-i-combine-multiple-topics-on-a-single-page-using-css/"><meta name="twitter:title" content="Как соединить несколько тем на одной странице с помощью CSS?"><meta name="twitter:description" content="Уже давно я задумывался о возможности индивидуально формировать отдельные блоки..."><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_index.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_index.jpg"><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_537x240.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_537x240.jpg"><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1200x630.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1200x630.jpg"><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1080x1080.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1080x1080.jpg"><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1680x1680.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1680x1680.jpg"><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1024x512.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_1024x512.jpg"><meta property="og:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_700x500.jpg"><meta name="twitter:image" content="https://blog.itsail.ru/assets/images/2019/combine_multiple_topics_700x500.jpg"><body><div id="shadow"></div><header class="main-header content-wrapper"> <input type="checkbox" id="menu-checkbox" /><nav class="center-wrapper nav-main"> <a class="blog-logo" href="/">ITSail</a> <a href="/about/">Об этом блоге</a> <a href="/blog/">Блог</a> <a href="/feed.xml">RSS</a> <label for="menu-checkbox" class="toggle-button" data-open="☰" data-close="☰" onclick></label></nav></header><aside class="sidebar" role="note" style="background-image: url(/assets/images/2019/combine_multiple_topics_index.jpg)"><div class="cover"><div class="cover-text"><div class="heading"> <a href="/blog/#Разработка">Разработка</a></div><p>Уже давно я задумывался о возможности индивидуально формировать отдельные блоки...</p></div></div><div id="switcher"></div></aside><main class="content-wrapper"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><h1 class="post-title" itemprop="name headline">Как соединить несколько тем на одной странице с помощью CSS?</h1><p class="post-meta"> <time datetime="2019-02-08">08-02-2019</time> &nbsp;/&nbsp; <span itemprop="author" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">devacademy</span> &nbsp;/&nbsp; <a itemprop="url" rel="nofollow" href="http://devacademy.ru/" target="_blank">Источник</a> </span> <span class="hidden" itemprop="datePublished" content="2019-02-08"></span></p><div class="post-content" itemprop="articleBody"><p>Уже давно я задумывался о возможности индивидуально формировать отдельные блоки, такие как футер или сайд-бар, не сталкиваясь с проблемами контекстного стиля. Другими словами, «Если эта кнопка используется на темном фоне, при наведении она должна менять цвета. И как мне это сделать?». Представляю вашему вниманию статью о том, как же все-таки совладать с контекстным стилем.</p><p>Итак, на днях я немного поэкспериментировал с настраиваемыми свойствами для пользовательского интерфейса Atom. Оказывается, произвольно настраиваемые свойства могут облегчить работу с контекстным стилем (настройка стилей через html). Далее, давайте перейдем к более простому примеру: у нас есть страница, основная часть которой - светлая, но заголовок и футер - темные. Выглядит это так:</p><p><img src="/assets/images/2019/combine_multiple_topics_1.png" alt="Пример использования темы :: Как соединить несколько тем на одной странице с помощью CSS?" title="Пример использования темы :: Как соединить несколько тем на одной странице с помощью CSS?" /></p><p>Раньше я бы, вероятно, создал такие вариации, как <code class="highlighter-rouge">button--dark</code> или изменил его в <code class="highlighter-rouge">header.button {...}</code> . Зависит от самого проекта. Но вот еще один подход: создайте тему с набором переменных, затем примените эту тему к нескольким блокам.</p><h2 id="Тема-по-умолчанию">Тема по умолчанию</h2><p>Сначала давайте определимcя с темой по умолчанию и рядом переменных.</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s1">"default"</span><span class="o">]</span> <span class="p">{</span>
    <span class="py">--fg</span><span class="p">:</span> <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0%</span><span class="p">,</span> <span class="m">25%</span><span class="p">);</span>
    <span class="py">--border</span><span class="p">:</span> <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0%</span><span class="p">,</span> <span class="m">75%</span><span class="p">);</span>
    <span class="py">--bg</span><span class="p">:</span> <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0%</span><span class="p">,</span> <span class="m">95%</span><span class="p">);</span>
    <span class="py">--button-bg</span><span class="p">:</span> <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0%</span><span class="p">,</span> <span class="m">99%</span><span class="p">);</span>
    <span class="py">--input-bg</span><span class="p">:</span> <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0%</span><span class="p">,</span> <span class="m">90%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>Затем мы создаем компоненты и используем указанные выше переменные.</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span><span class="nt">data-theme</span><span class="o">]</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--fg</span><span class="p">);</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--bg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.button</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--fg</span><span class="p">);</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="n">var</span><span class="p">(</span><span class="n">--border</span><span class="p">);</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--button-bg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.input</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--fg</span><span class="p">);</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="n">var</span><span class="p">(</span><span class="n">--border</span><span class="p">);</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--input-bg</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>И, наконец, добавляем атрибут <code class="highlighter-rouge">[data-theme="default"]</code> к телу сайта (body).</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body</span> <span class="na">data-theme=</span><span class="s">"default"</span><span class="nt">&gt;</span>
</code></pre></div></div><p>Вы спросите, почему необходимо использовать именно <code class="highlighter-rouge">data-theme</code>? Ну, нет конкретной причины. Возможно, подразумевается то, что для каждого элемента следует использовать отдельную тему.</p><p>И тогда мы получаем следующее:</p><p><img src="/assets/images/2019/combine_multiple_topics_2.png" alt="data-theme='default' :: Как соединить несколько тем на одной странице с помощью CSS?" title="data-theme='default' :: Как соединить несколько тем на одной странице с помощью CSS?" /></p><h2 id="Тёмная-тема">Тёмная тема</h2><p>Но наш дизайнер хочет, чтобы заголовок и футер были темными. Хорошо, давайте сформируем еще одну тему.</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s1">"dark"</span><span class="o">]</span> <span class="p">{</span>
  <span class="py">--fg</span><span class="p">:</span>         <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">10%</span><span class="p">,</span><span class="m">70%</span><span class="p">);</span>
  <span class="py">--border</span><span class="p">:</span>     <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">10%</span><span class="p">,</span><span class="m">10%</span><span class="p">);</span>
  
  <span class="py">--bg</span><span class="p">:</span>         <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0%</span><span class="p">,</span><span class="m">20%</span><span class="p">);</span>
  <span class="py">--button-bg</span><span class="p">:</span>  <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0%</span><span class="p">,</span><span class="m">25%</span><span class="p">);</span>
  <span class="py">--input-bg</span><span class="p">:</span>   <span class="n">hsl</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0%</span><span class="p">,</span><span class="m">15%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>Добавим ее в хэдер и футер.</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;header</span> <span class="na">data-theme=</span><span class="s">"dark"</span><span class="nt">&gt;</span>
<span class="nt">&lt;footer</span> <span class="na">data-theme=</span><span class="s">"dark"</span><span class="nt">&gt;</span>
</code></pre></div></div><p>И тогда получаем:</p><p><img src="/assets/images/2019/combine_multiple_topics_3.png" alt="Пример использования темной темы :: Как соединить несколько тем на одной странице с помощью CSS?" title="Пример использования темной темы :: Как соединить несколько тем на одной странице с помощью CSS?" /></p><p>Этот подход работает потому, что настраиваемые (произвольные) свойства включаются последовательно и могут быть изменены во вложенных элементах, как и обычные свойства.</p><h2 id="Тема-заголовка">Тема заголовка</h2><p>Спустя несколько месяцев наш дизайнер возвращается с измененным стилем заголовка. «Нужно, чтобы он выглядел посвежее» - побольше цвета.</p><p>Нет проблем! И мы меняем тему «заголовка» точно также, как до этого.</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s1">"hero"</span><span class="o">]</span> <span class="p">{</span>
  <span class="py">--fg</span><span class="p">:</span>         <span class="n">hsl</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">50%</span><span class="p">,</span><span class="m">90%</span><span class="p">);</span>
  <span class="py">--border</span><span class="p">:</span>     <span class="n">hsl</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">50%</span><span class="p">,</span><span class="m">10%</span><span class="p">);</span>
  
  <span class="py">--bg</span><span class="p">:</span>         <span class="n">hsl</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">33%</span><span class="p">,</span><span class="m">30%</span><span class="p">);</span>
  <span class="py">--button-bg</span><span class="p">:</span>  <span class="n">hsl</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">33%</span><span class="p">,</span><span class="m">40%</span><span class="p">);</span>
  <span class="py">--input-bg</span><span class="p">:</span>   <span class="n">hsl</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">33%</span><span class="p">,</span><span class="m">20%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>Пробуем:</p><div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;header</span> <span class="na">data-theme=</span><span class="s">"hero"</span><span class="nt">&gt;</span>
</code></pre></div></div><p>И вот этот новый заголовок:</p><p><img src="/assets/images/2019/combine_multiple_topics_3.png" alt="Тема заголовка :: Как соединить несколько тем на одной странице с помощью CSS?" title="Тема заголовка :: Как соединить несколько тем на одной странице с помощью CSS?" /></p><p>Здесь так же нет ограничений по цвету, размеру, шрифтам и чему-либо еще, что возможно регулировать.</p><h2 id="Плюсы">Плюсы</h2><p>Использование этих тематических «блоков» позволяет вашим компонентам оставаться не привязанными к контексту, и вы сможете использовать их в нескольких темах. Даже на одной странице.</p><ul><li>Разработчики могут добавлять компоненты, перемещать их, вне зависимости к какому контексту они привязаны. Метка для компонентов остается неизменной.<li>Системные администраторы могут создавать новые компоненты, не беспокоясь о том, где они используются, переменные остаются неизменными.<li>Дизайнеры могут определять новые стили блоков или изменять существующие, без необходимости вносить изменения в HTML или CSS компоненты, они остаются прежними.</ul><h2 id="О-чем-стоит-переживать">О чем стоит переживать</h2><p>Да-да. Главный вопрос: каковы масштабы этого подхода? Можно ли его использовать и в других случаях?</p><p>Итак, я уверен, что он не подходит для всех ситуаций. Найти единое решение для всех-невозможно. И я не могу сказать точно, насколько он масштабируется. Я могу лишь предположить, что он отлично работает с простыми демоверсиями, но я все же хочу найти более крупный проект, чтобы узнать наверняка. Поэтому, если вы использовали (или планируете использовать) этот подход, мне любопытно узнать, как все прошло.</p><p>Единственное, о чем стоит переживать, на мой взгляд, это то, что список переменных может быстро расти, если характеристики тем и стилей отличаются между собой. Что-то немного темнее, что-то светлее. Тогда возможнопотребуется определить приоритетные цвета их пределы для каждого компонента (или группы компонентов) и в дальнейшем не использовать общие <code class="highlighter-rouge">--fg</code> и <code class="highlighter-rouge">--border</code> . Именование переменных, вероятно, наиболее сложная часть.</p><p>P.S. Кстати говоря, мне еще очень нравятся CSS цвета уровня 4. Функция <code class="highlighter-rouge">color - mod()</code> позволяет вам с помощью настраиваемых произвольных свойств, применять действия <code class="highlighter-rouge">darken/lighten</code> (затемнение/осветление) .</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s1">"dark"</span><span class="o">]</span> <span class="p">{</span>
    <span class="py">--button-bg</span><span class="p">:</span> <span class="n">color-mod</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--bg</span><span class="p">)</span> <span class="n">lightness</span><span class="p">(</span><span class="m">10%</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div><p>Это позволит менять темы в динамике с меньшим количеством значений с жесткой кодировкой. Просто измените <code class="highlighter-rouge">--bg</code> и все остальное приспосабливается соответственно.</p><a class="link-to-post" href="/blog/statistics-optimization-of-mobile-website-which-will-surprise-you/"> <span class="link-to-post__prev">&#10535; &nbsp;Предыдущая запись</span> <span class="link-to-post__title">Статистика оптимизации мобильного сайта, которая сможет вас удивить</span> </a></div></article></main><footer class="blog-footer content-wrapper"><p>&copy; <span class="full-year"></span> ITSail</p></footer><script src="/assets/scripts/scripts.min.js"></script> <script type="text/javascript" > (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(52279162, "init", { id:52279162, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true, trackHash:true }); </script> <noscript><div><img src="https://mc.yandex.ru/watch/52279162" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
